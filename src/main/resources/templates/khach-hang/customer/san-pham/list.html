<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:replace="~{/khach-hang/customer/index :: dynamic(~{::main})}">
<head>
    <meta charset="UTF-8">
    <title>Product list</title>
</head>
<body>
<main>
    <div class="card shadow-sm mx-auto" style="max-width: 1560px; padding: 20px;">
        <div class="card-header bg-white border-bottom mb-3">
            <h4 class="mb-0 text-danger"><i class="bi bi-book"></i> Danh sách sản phẩm</h4>
        </div>
        <div class="card-body p-0">
            <div class="d-flex flex-wrap gap-3 justify-content-start">
                <div class="product-card border rounded bg-white overflow-hidden"
                     style="width: 290px; height: 480px; padding: 12px;"
                     th:each="s : ${list}">
                    <div class="product-image-wrapper mb-3" style="height: 400px; overflow: hidden;">
                        <a th:href="@{'/home/san-pham-chi-tiet/' + ${s.id}}">
                            <img th:src="@{'/images/' + ${s.hinhAnh}}"
                                 alt="Ảnh sản phẩm"
                                 class="w-100"
                                 style="height: 100%; object-fit: cover;">
                        </a>
                    </div>
                    <div class="d-flex flex-column justify-content-between" style="height: 100px;">
                        <div class="product-title fs-5 fw-semibold text-truncate" th:text="${s.tenSach}">Tên sách</div>
                        <div class="product-price text-danger fw-bold fs-5"
                             th:text="${#numbers.formatDecimal(s.giaBan, 0, 'COMMA', 0, 'POINT')} + ' đ'">
                            726.000 đ
                        </div>
                    </div>
                </div>

            </div>
        </div>

        <!-- Phân trang -->
        <nav class="mt-3" aria-label="Pagination" th:if="${totalPage > 1}">
            <ul class="pagination justify-content-center">
                <!-- Nút Trước -->
                <li class="page-item" th:classappend="${page == 0} ? 'disabled'">
                    <a class="page-link" th:href="@{/home/sach(page=${page - 1}, size=${size}, key=${key})}">Trước</a>
                </li>

                <!-- Các trang -->
                <li class="page-item"
                    th:each="i : ${#numbers.sequence(0, totalPage - 1)}"
                    th:classappend="${i == page} ? 'active'">
                    <a class="page-link"
                       th:href="@{/home/sach(page=${i}, size=${size}, key=${key})}"
                       th:text="${i + 1}"></a>
                </li>

                <!-- Nút Tiếp -->
                <li class="page-item" th:classappend="${page + 1 >= totalPage} ? 'disabled'">
                    <a class="page-link" th:href="@{/home/sach(page=${page + 1}, size=${size}, key=${key})}">Tiếp</a>
                </li>
            </ul>
        </nav>
    </div>
</main>
</body>
</html>
