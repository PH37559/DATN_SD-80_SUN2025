<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="vi">
<head>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
</head>
<body>
<div th:replace="layout :: view('Danh sách khách hàng', ~{khach-hang/admin/list_content :: content})"></div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.21.1/axios.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<script th:inline="javascript">
    const citis = document.getElementById("city");
    const districts = document.getElementById("district");
    let dataList = [];

    axios.get("https://raw.githubusercontent.com/kenzouno1/DiaGioiHanhChinhVN/master/data.json")
        .then(res => {
            dataList = res.data;
            for (let city of dataList) {
                citis.options[citis.options.length] = new Option(city.Name.replace("Tỉnh ", "").replace("Thành phố ", ""), city.Name);
            }
        });

    citis.onchange = function () {
        districts.length = 1;
        const selected = dataList.find(c => c.Name === citis.value);
        if (selected) {
            for (let district of selected.Districts) {
                districts.options[districts.options.length] = new Option(district.Name.replace("Huyện ", "").replace("Quận ", "").replace("Thành phố ", ""), district.Name);
            }
        }
    };


</script>

</body>
</html>