<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="vi">
<body>
<div th:replace="layout :: view('Danh sách nhân viên', ~{nhan-vien/list_content :: content})"></div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<script th:inline="javascript">
    const nhanVienList = [[${list}]];

    function showChiTiet(row) {
        const id = row.getAttribute("data-id");
        const nv = nhanVienList.find(n => n.id == id);
        if (!nv) return;

        document.getElementById("ctHoTen").value = nv.hoTen;
        document.getElementById("ctGioiTinh").value = nv.gioiTinh === 1 ? "Nam" : "Nữ";
        document.getElementById("ctDiaChi").value = nv.diaChi;
        document.getElementById("ctSdt").value = nv.sdt;
        document.getElementById("ctEmail").value = nv.email;
        document.getElementById("ctNgayLamViec").value = nv.ngayLamViec;
        document.getElementById("ctTenTaiKhoan").value = nv.tenTaiKhoan;
        document.getElementById("ctMatKhau").value = nv.matKhau;
        document.getElementById("ctChucVu").value = nv.chucVu.tenChucVu;
        document.getElementById("ctTrangThai").value = nv.trangThai === 1 ? "Đang hoạt động" : "Đã nghỉ";

        document.getElementById("btnSua").href = "/nhan-vien/edit/" + nv.id;
        document.getElementById("btnXoa").href = "/nhan-vien/delete/" + nv.id;

        const modal = new bootstrap.Modal(document.getElementById("chiTietModal"));
        modal.show();
    }

</script>

</body>
</html>